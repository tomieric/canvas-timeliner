{"version":3,"sources":["../dist/lib/index.js","index.js"],"names":["DEFAULT_OPTIONS","height","textSize","interval","gap","textPos","gapHeight","lineHeight","lineWidth","lineColor","textStyle","MIN_INTERVAL","TimeLiner","options","canvas","document","createElement","container","autoSize","ctx","getContext","Object","assign","init","render","resizeObserve","console","warn","prototype","dom","el","appendChild","log","setOption","setRect","draw","isResize","_a","width","boundRect","getBoundingClientRect","total","position","test","steps","Math","round","clearRect","drawBorderLine","drawMark","x","y","x1","y1","drawLine","endX","endY","beginPath","moveTo","lineTo","strokeStyle","stroke","drawText","text","font","fillStyle","textBaseline","fillText","_this","formatMarkText","textAlign","isGap","isGapText","fontSize","Number","textHeight","getXY","num","textX","textY","textWidth","measureText","intervalN","max","i","_b","window","ResizeObserver","resizeObserver","entries","_i","entries_1","length","entry","contentRect","observe","module","exports","app","getElementById","darkApp","leftApp","rightApp","points","padLeft","n","timeliner","frame","m","floor","f","timeLiner2","gapColor","leftTimeLine","rightTimeLine","addEventListener","e","val","target","value","ceil"],"mappings":"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","file":"example.b7588b45.js","sourceRoot":"..\\example","sourcesContent":["/*!\n * @tomieric/canvas-timeliner 1.1.0-alpha.0 (https://github.com/tomieric/canvas-timeliner)\n * API https://github.com/tomieric/canvas-timeliner/blob/master/README.md\n * Copyright 2020-preset tommyshao All Rights Reserved\n * Licensed under MIT (https://gitlab.com/tomieric/canvas-timeliner/blob/master/LICENSE)\n */\n\n'use strict';\n\nvar DEFAULT_OPTIONS = {\r\n    height: 100,\r\n    textSize: 10,\r\n    interval: 10,\r\n    gap: 10,\r\n    textPos: 5,\r\n    gapHeight: 20,\r\n    lineHeight: 10,\r\n    lineWidth: 1,\r\n    lineColor: 'rgb(0, 0, 0)',\r\n    textStyle: '#000000'\r\n};\r\nvar MIN_INTERVAL = 5;\r\nvar TimeLiner = /** @class */ (function () {\r\n    function TimeLiner(options) {\r\n        var canvas = document.createElement('canvas');\r\n        var container = options.container, autoSize = options.autoSize;\r\n        if (!container) {\r\n            console.warn('container must be to set');\r\n            return;\r\n        }\r\n        this.canvas = canvas;\r\n        this.container = container;\r\n        this.ctx = canvas.getContext('2d');\r\n        this.options = Object.assign({}, DEFAULT_OPTIONS, options);\r\n        this.init();\r\n        this.render();\r\n        if (autoSize)\r\n            this.resizeObserve();\r\n    }\r\n    TimeLiner.prototype.init = function (dom) {\r\n        var el = (dom || this.container);\r\n        if (el) {\r\n            el.appendChild(this.canvas);\r\n        }\r\n        else {\r\n            console.log('container must be to set');\r\n        }\r\n    };\r\n    TimeLiner.prototype.render = function (options) {\r\n        if (options)\r\n            this.setOption(options);\r\n        this.setRect();\r\n        this.draw();\r\n    };\r\n    TimeLiner.prototype.setRect = function (isResize) {\r\n        var _a = this, canvas = _a.canvas, container = _a.container, options = _a.options;\r\n        var width = options.width, height = options.height;\r\n        var boundRect = container.getBoundingClientRect();\r\n        canvas.width = this.width = width || boundRect.width;\r\n        if (!isResize)\r\n            canvas.height = this.height = height || boundRect.height;\r\n    };\r\n    TimeLiner.prototype.draw = function () {\r\n        var total = this.width;\r\n        var _a = this.options, position = _a.position, interval = _a.interval;\r\n        if (/left|right/.test(position)) {\r\n            total = this.height;\r\n        }\r\n        this.steps = Math.round(total / interval);\r\n        this.ctx.clearRect(0, 0, this.width, this.height);\r\n        // 绘制长线\r\n        this.drawBorderLine();\r\n        // 绘制刻线\r\n        this.drawMark();\r\n    };\r\n    TimeLiner.prototype.drawBorderLine = function () {\r\n        var position = this.options.position;\r\n        var _a = [0, 0, this.width, this.height], x = _a[0], y = _a[1], x1 = _a[2], y1 = _a[3];\r\n        switch (position) {\r\n            case 'bottom':\r\n                x = 0;\r\n                y = this.height;\r\n                break;\r\n            case 'left':\r\n                x1 = 0;\r\n                break;\r\n            case 'right':\r\n                x = this.width;\r\n                break;\r\n            case 'top':\r\n            default:\r\n                y = 0;\r\n                y1 = 0;\r\n                break;\r\n        }\r\n        this.drawLine(x, y, x1, y1);\r\n    };\r\n    TimeLiner.prototype.drawLine = function (x, y, endX, endY) {\r\n        var ctx = this.ctx;\r\n        var _a = this.options, lineColor = _a.lineColor, lineWidth = _a.lineWidth;\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(endX, endY);\r\n        ctx.strokeStyle = lineColor;\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.stroke();\r\n    };\r\n    TimeLiner.prototype.drawText = function (text, x, y) {\r\n        var _a = this, ctx = _a.ctx, options = _a.options;\r\n        var textStyle = options.textStyle, textSize = options.textSize;\r\n        ctx.font = textSize;\r\n        ctx.fillStyle = textStyle;\r\n        ctx.textBaseline = 'middle';\r\n        ctx.fillText(text, x, y);\r\n    };\r\n    TimeLiner.prototype.drawMark = function () {\r\n        var _this = this;\r\n        var _a = this, ctx = _a.ctx, options = _a.options;\r\n        var lineHeight = options.lineHeight, gapHeight = options.gapHeight, gap = options.gap, interval = options.interval, formatMarkText = options.formatMarkText, position = options.position, textSize = options.textSize, textPos = options.textPos, textAlign = options.textAlign;\r\n        var isGap = false;\r\n        var isGapText = false;\r\n        var fontSize = Number(textSize);\r\n        var textHeight = fontSize * 1.5;\r\n        // + 0.5 解决 1px 模糊\r\n        var getXY = function (num) {\r\n            var _a = [0, 0, 0, 0, 0, 0], x = _a[0], y = _a[1], x1 = _a[2], y1 = _a[3], textX = _a[4], textY = _a[5];\r\n            var text = formatMarkText ? formatMarkText(num) : num;\r\n            var textWidth = ctx.measureText(text).width;\r\n            var intervalN = Math.max(interval, MIN_INTERVAL);\r\n            switch (position) {\r\n                case 'left':\r\n                    x = 0;\r\n                    x1 = (isGap ? gapHeight : lineHeight) + 0.5;\r\n                    y = y1 = intervalN * num + 0.5;\r\n                    textX = (isGap ? gapHeight : lineHeight) + textPos + 0.5;\r\n                    textY = num > 0 && textAlign === 'center' ? y + textHeight / 4 : y + textHeight / 2;\r\n                    break;\r\n                case 'right':\r\n                    x = _this.width - (isGap ? gapHeight : lineHeight) + 0.5;\r\n                    x1 = _this.width;\r\n                    y = y1 = intervalN * num + 0.5;\r\n                    textY = num > 0 && textAlign === 'center' ? y + textHeight / 4 : y + textHeight / 2;\r\n                    textX = _this.width - gapHeight - textWidth - textPos;\r\n                    break;\r\n                case 'bottom':\r\n                    x = x1 = intervalN * num + 0.5;\r\n                    y = _this.height - (isGap ? gapHeight : lineHeight) + 0.5;\r\n                    y1 = _this.height;\r\n                    textX = num > 0 && textAlign === 'center' ? x - textWidth / 2 : x;\r\n                    textY = _this.height - (gapHeight) + 0.5 - textPos;\r\n                    break;\r\n                case 'top':\r\n                default:\r\n                    x = x1 = intervalN * num + 0.5;\r\n                    y = 0;\r\n                    y1 = (isGap ? gapHeight : lineHeight) + 0.5;\r\n                    textX = num > 0 && textAlign === 'center' ? x - textWidth / 2 : x;\r\n                    textY = gapHeight + 0.5 + fontSize + textPos;\r\n                    break;\r\n            }\r\n            return { x: x, y: y, x1: x1, y1: y1, textX: textX, textY: textY, text: text };\r\n        };\r\n        for (var i = 0; i < this.steps; i++) {\r\n            isGap = i > 0 ? !(i % gap) : !1;\r\n            isGapText = isGap || i === 0;\r\n            var _b = getXY(i), x = _b.x, y = _b.y, x1 = _b.x1, y1 = _b.y1, textX = _b.textX, textY = _b.textY, text = _b.text;\r\n            this.drawLine(x, y, x1, y1);\r\n            isGapText && this.drawText(text, textX, textY);\r\n        }\r\n    };\r\n    TimeLiner.prototype.setOption = function (options) {\r\n        this.options = Object.assign(this.options, options);\r\n    };\r\n    TimeLiner.prototype.resizeObserve = function () {\r\n        var _this = this;\r\n        if (window.ResizeObserver) {\r\n            var resizeObserver = new window.ResizeObserver(function (entries) {\r\n                for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n                    var entry = entries_1[_i];\r\n                    if (_this.width !== entry.contentRect.width) {\r\n                        _this.setRect(true);\r\n                    }\r\n                    _this.draw();\r\n                }\r\n            });\r\n            resizeObserver.observe && resizeObserver.observe(this.container);\r\n        }\r\n    };\r\n    return TimeLiner;\r\n}());\n\nmodule.exports = TimeLiner;\n","import './style.css'\r\nimport TimeLiner from '../dist/lib'\r\n\r\nconst app = document.getElementById('app')\r\nconst darkApp = document.getElementById('app-dark')\r\nconst leftApp = document.getElementById('app-left')\r\nconst rightApp = document.getElementById('app-right')\r\nconst points = document.getElementById('points')\r\n\r\nconst padLeft = n => n >= 10 ? n : `0${n}` \r\n\r\nconsole.log(padLeft(23))\r\n\r\nconst gap = 24\r\nconst interval = 10\r\nconst timeliner = new TimeLiner({\r\n  container: app,\r\n  gap,\r\n  formatMarkText (frame) {\r\n    const m = frame >= gap ? Math.floor(frame / gap) : 0\r\n    const f = frame % 24\r\n    return `00:0${m}:${padLeft(f)}`\r\n  }\r\n})\r\n\r\nconst timeLiner2 = new TimeLiner({\r\n  container: darkApp,\r\n  gap: 24,\r\n  position: 'bottom',\r\n  textAlign: 'center',\r\n  lineHeight: 6,\r\n  gapHeight: 6,\r\n  interval: 10,\r\n  lineColor: '#999999', // rgb(51, 51, 51)\r\n  gapColor: '#eeeeee', // rgb(102, 102, 102)\r\n  textStyle: '#EEEEEE',\r\n  formatMarkText (frame) {\r\n    const m = frame >= gap ? Math.floor(frame / gap) : 0\r\n    const f = frame % 24\r\n    return `00:0${m}:${padLeft(f)}`\r\n  }\r\n})\r\n\r\nconst leftTimeLine = new TimeLiner({\r\n  container: leftApp,\r\n  gap,\r\n  position: 'left',\r\n  formatMarkText (frame) {\r\n    const m = frame >= gap ? Math.floor(frame / gap) : 0\r\n    const f = frame % 24\r\n    return `00:0${m}:${padLeft(f)}`\r\n  }\r\n})\r\n\r\nconst rightTimeLine = new TimeLiner({\r\n  container: rightApp,\r\n  gap,\r\n  position: 'right',\r\n  formatMarkText (frame) {\r\n    const m = frame >= gap ? Math.floor(frame / gap) : 0\r\n    const f = frame % 24\r\n    return `00:0${m}:${padLeft(f)}`\r\n  }\r\n})\r\n\r\npoints.addEventListener('change', e => {\r\n  const val = interval * e.target.value\r\n  console.log(gap, val, gap * val)\r\n  timeliner.draw({\r\n    interval: val\r\n  })\r\n  timeLiner2.draw({\r\n    interval: val,\r\n    gap: Math.ceil(gap * (val / 10))\r\n  })\r\n  leftTimeLine.draw({\r\n    interval: val\r\n  })\r\n  rightTimeLine.draw({\r\n    interval: val\r\n  })\r\n})"]}